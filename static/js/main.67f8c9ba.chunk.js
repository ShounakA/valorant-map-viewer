(this["webpackJsonpvalorant-mapviewer"]=this["webpackJsonpvalorant-mapviewer"]||[]).push([[0],{28:function(e,t,a){e.exports=a(36)},33:function(e,t,a){},34:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),s=a.n(l),i=(a(33),a(7)),c=a(8),o=a(9),d=a(10),u=(a(34),a(35),a(1)),h=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).myRef=r.a.createRef(),n.state={isBuyPeriod:n.props.isBuyPeriod,currMap:"Bind",width:n.props.width,height:n.props.height},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.setResetCallable({resetPan:this.resetPan}),this.props.setAgentCallables([{addPlayer:this.addPlayer},{addPlayer:this.addPlayer},{addPlayer:this.addPlayer},{addPlayer:this.addPlayer},{addPlayer:this.addPlayer},{addPlayer:this.addPlayer},{addPlayer:this.addPlayer},{addPlayer:this.addPlayer},{addPlayer:this.addPlayer},{addPlayer:this.addPlayer}]),this.props.setMapCallable({updateMap:this.updateMap}),this.setState({svgRef:this.svg}),this.drawMap(this.props.map)}},{key:"componentDidUpdate",value:function(){var e=u.c("#attack-barrier"),t=u.c("#defense-barrier");this.props.isBuyPeriod?(e.style("display",null),t.style("display",null)):(e.style("display","none"),t.style("display","none"))}},{key:"resetPan",value:function(e){var t=u.c("#Bind");var a=u.e().on("zoom",(function(){t.attr("transform",u.b.transform)}));t.transition().duration(750).call(a.transform,u.f)}},{key:"drawMap",value:function(e){var t=this;u.d("./"+e.file).then((function(a){t.svg.node().append(a.documentElement),u.c("#"+e.name).attr("class","svg-content-responsive").attr("viewBox",["0","0",t.state.width,t.state.height].join(" ")),t.drawCharacter("#"+e.name),t.setState({currMap:e.name});var n=u.c("#"+e.name).call(u.e().scaleExtent([.55,5]).on("zoom",(function(){n.attr("transform",u.b.transform)})))}))}},{key:"updateMap",value:function(e,t,a){var n=a.current.svg,r=a.current,l=e,s=t;u.d("./"+l).then((function(e){u.c("#"+r.state.currMap).remove(),n.node().append(e.documentElement),u.c("#"+s).attr("class","svg-content-responsive").attr("viewBox",["0","0",r.state.width,r.state.height].join(" ")),r.drawCharacter("#"+s),r.setState({currMap:s});var t=u.c("#"+s).call(u.e().scaleExtent([.55,5]).on("zoom",(function(){t.attr("transform",u.b.transform)})))}))}},{key:"drawCharacter",value:function(e){u.c(e).append("g").attr("id","Draggables")}},{key:"addPlayer",value:function(e,t,a,n){var r=u.c("#Draggables");r.append("g").attr("id",t+n);var l="#24E8AD";"attack"===t&&(l="#FF5859"),(r=u.c("#"+t+n)).append("circle").attr("cx",50).attr("cy",50).attr("r",12).style("fill",l).style("stroke",l).style("stroke-width",5),r.append("image").attr("href",a).attr("x",35).attr("y",35).attr("width",30).attr("height",30);var s=0,i=0;u.a().subject((function(){u.c(this);return{x:s,y:i}})).on("drag",(function(){var e=u.c(this),t="translate(".concat(u.b.x,", ").concat(u.b.y,")");s=u.b.x,i=u.b.y,e.attr("transform",t)}))(r)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"svg-container splitter",ref:function(t){return e.svg=u.c(t)}})}}]),a}(n.Component),p=function(e){Object(d.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).atkRef=r.a.createRef(),n.defRef=r.a.createRef(),n.state={isBuyChecked:!0,resetCallable:null,mapCallable:null,maps:[{name:"Bind",file:"bind-map.svg"},{name:"Haven",file:"haven-map.svg"},{name:"Split",file:"split-map.svg"}],mapRef:r.a.createRef(),currentTeam:"attack",currentMap:{name:"Bind",file:"bind-map.svg"},players:{attack:[],defense:[]},agents:[{name:"Breach",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/breach/breach-cutout2-compressed.png",color:"#9E644B",refs:r.a.createRef(),callable:null},{name:"Brimstone",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/brimstone/brimstone-cutout-compressed.png",color:"#468EB7",refs:r.a.createRef(),callable:null},{name:"Cypher",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/cypher/cypher-cutout-compressed.png",color:"#A9AD96",refs:r.a.createRef(),callable:null},{name:"Jett",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/jett/jett-cutout3-compressed.png",color:"#55D1E0",refs:r.a.createRef(),callable:null},{name:"Omen",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/omen/omen-cutout-compressed.png",color:"#543EFF",refs:r.a.createRef(),callable:null},{name:"Pheonix",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/phoenix/phoenix-cutout-compressed.png",color:"#F0753A",refs:r.a.createRef(),callable:null},{name:"Raze",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/raze/raze-cutout-compressed.png",color:"#F6AD40",refs:r.a.createRef(),callable:null},{name:"Sage",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/sage/sage-cutout-compressed.png",color:"#21CEAF",refs:r.a.createRef(),callable:null},{name:"Sova",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/sova/sova-cutout-compressed.png",color:"#325FFF",refs:r.a.createRef(),callable:null},{name:"Viper",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/viper/viper-cutout-compressed.png",color:"#2AC849",refs:r.a.createRef(),callable:null}]},n}return Object(c.a)(a,[{key:"handleChange",value:function(e){this.setState({isBuyChecked:e.target.checked})}},{key:"setMapCallable",value:function(e){this.setState({mapCallable:e})}},{key:"setResetCallable",value:function(e){this.setState({resetCallable:e})}},{key:"setAgentCallables",value:function(e){for(var t=this.state.agents,a=0;a<t.length;a++)t[a].callable=e[a];this.setState({agents:t})}},{key:"handlePanReset",value:function(e){this.state.resetCallable.resetPan(e)}},{key:"handleAgent",value:function(e){var t=this.state.currentTeam,a=this.state.agents[e],n=this.state.players;n[t].length<5&&!n[t].includes(a.name)?(a.callable.addPlayer(e,t,a.cdn,a.name),n[t].push(a.name),this.setState({players:n})):console.log("Team full or Agent already on map")}},{key:"handleHoverOn",value:function(e){e.current.width=84,e.current.height=56}},{key:"handleHoverOff",value:function(e){e.current.width=80,e.current.height=52}},{key:"renderAgents",value:function(){var e=this;return this.state.agents.map((function(t,a){return r.a.createElement("div",{key:a,className:"agent-button",style:{background:t.color},onClick:e.handleAgent.bind(e,a)},r.a.createElement("img",{ref:t.refs,width:80,height:52,className:"agent-img",id:"btn"+t.name,src:t.cdn,onPointerEnter:e.handleHoverOn.bind(e,t.refs),onPointerLeave:e.handleHoverOff.bind(e,t.refs)}),r.a.createElement("br",null),r.a.createElement("label",{className:"",to:"btn"+t.name},t.name))}))}},{key:"setAttack",value:function(e){this.setState({currentTeam:"attack"}),this.atkRef.current.style={backgroundColor:"#FF5859"},this.defRef.current.style={backgroundColor:null}}},{key:"setDefense",value:function(e){this.setState({currentTeam:"defense"}),this.defRef.current.style={background:"#24E8AD"},this.atkRef.current.style={background:null}}},{key:"renderMapSelection",value:function(){return this.state.maps.map((function(e,t){return r.a.createElement("option",{key:t,value:e.file},e.name)}))}},{key:"onMapChange",value:function(e){var t=e.target.value,a=e.target.value.split("-")[0],n=a.substr(0,1).toUpperCase()+a.substr(1,a.length);this.setState({players:{attack:[],defense:[]}}),this.state.mapCallable.updateMap(t,n,this.state.mapRef)}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"}),r.a.createElement("div",{className:"splitter"},r.a.createElement("div",{id:"config"},r.a.createElement("select",{onChange:this.onMapChange.bind(this)},this.renderMapSelection()),r.a.createElement("label",{to:"barrier"},"Barrier ON/OFF"),r.a.createElement("input",{id:"barrier",type:"checkbox",onChange:this.handleChange.bind(this),checked:this.state.isBuyChecked}),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.handlePanReset.bind(this)},"Reset"),r.a.createElement("br",null),r.a.createElement("button",{ref:this.atkRef,onClick:this.setAttack.bind(this)},"Attackers"),r.a.createElement("button",{ref:this.defRef,onClick:this.setDefense.bind(this)},"Defenders"),r.a.createElement("div",{className:"agents"},this.renderAgents())),r.a.createElement(h,{ref:this.state.mapRef,width:"908",height:"908",isBuyPeriod:this.state.isBuyChecked,setResetCallable:this.setResetCallable.bind(this),setAgentCallables:this.setAgentCallables.bind(this),setMapCallable:this.setMapCallable.bind(this),map:this.state.currentMap})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.67f8c9ba.chunk.js.map