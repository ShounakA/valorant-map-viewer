(this["webpackJsonpvalorant-mapviewer"]=this["webpackJsonpvalorant-mapviewer"]||[]).push([[0],{28:function(e,t,a){e.exports=a(35)},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),i=a.n(s),c=(a(33),a(2)),o=a(3),l=a(4),d=a(5),u=(a(34),a(1)),h=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={name:"Haven",svg:"haven-map.svg",svg_id:"Haven",width:n.props.width,height:n.props.height,map_canvas_id:"map-canvas"},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.drawMap(this.state.name,this.state.svg)}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){u.c("#"+this.state.svg_id).remove()}},{key:"drawMap",value:function(e,t){var a=this,n=this.state.map_canvas_id;u.d("./"+t).then((function(t){var r=u.c("#"+n);console.log(r),r.node().append(t.documentElement),u.c("#"+e).attr("class","svg-content-responsive").attr("id",a.state.svg_id).attr("viewBox",["0","0",a.state.width,a.state.height].join(" ")),a.drawCharacterLayer("#"+e);var s=u.c("#"+e).call(u.e().scaleExtent([.55,5]).on("zoom",(function(){s.attr("transform",u.b.transform)})))}))}},{key:"drawCharacterLayer",value:function(e){u.c(e).append("g").attr("id","Draggables")}},{key:"render",value:function(){return r.a.createElement("div",null,"Haven")}}]),a}(n.Component),m=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).myRef=r.a.createRef(),n.state={name:"Bind",svg:"bind-map.svg",svg_id:"Bind",width:n.props.width,height:n.props.height,map_canvas_id:"map-canvas"},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.drawMap(this.state.name,this.state.svg)}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){u.c("#"+this.state.svg_id).remove()}},{key:"drawMap",value:function(e,t){var a=this,n=this.state.map_canvas_id;u.d("./"+t).then((function(t){var r=u.c("#"+n);console.log(r),r.node().append(t.documentElement),u.c("#"+e).attr("class","svg-content-responsive").attr("id",a.state.svg_id).attr("viewBox",["0","0",a.state.width,a.state.height].join(" ")),a.drawCharacterLayer("#"+e);var s=u.c("#"+e).call(u.e().scaleExtent([.55,5]).on("zoom",(function(){s.attr("transform",u.b.transform)})))}))}},{key:"drawCharacterLayer",value:function(e){u.c(e).append("g").attr("id","Draggables")}},{key:"render",value:function(){return r.a.createElement("div",null,"Bind")}}]),a}(n.Component),p=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).myRef=r.a.createRef(),n.state={name:"Split",svg:"split-map.svg",svg_id:"Split",width:n.props.width,height:n.props.height,map_canvas_id:"map-canvas"},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.drawMap(this.state.name,this.state.svg)}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){u.c("#"+this.state.svg_id).remove()}},{key:"drawMap",value:function(e,t){var a=this,n=this.state.map_canvas_id;u.d("./"+t).then((function(t){var r=u.c("#"+n);console.log(r),r.node().append(t.documentElement),u.c("#"+e).attr("class","svg-content-responsive").attr("id",a.state.svg_id).attr("viewBox",["0","0",a.state.width,a.state.height].join(" ")),a.drawCharacterLayer("#"+e);var s=u.c("#"+e).call(u.e().scaleExtent([.55,5]).on("zoom",(function(){s.attr("transform",u.b.transform)})))}))}},{key:"drawCharacterLayer",value:function(e){u.c(e).append("g").attr("id","Draggables")}},{key:"render",value:function(){return r.a.createElement("div",null,"Split")}}]),a}(n.Component),v=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isBuyPeriod:n.props.isBuyPeriod,currMap:n.props.map,width:n.props.width,height:n.props.height,mapRef:n.props.mapRef},n}return Object(o.a)(a,[{key:"drawDrawingBoardLayer",value:function(){u.c("svg").append("g").attr("id","ui"),u.c("svg").append("g").attr("id","canvas")}},{key:"render",value:function(){switch(this.state.currMap){case"Bind":return r.a.createElement(m,{height:this.state.height,width:this.state.width});case"Haven":return r.a.createElement(h,{height:this.state.height,width:this.state.width});case"Split":return r.a.createElement(p,{height:this.state.height,width:this.state.width});default:return r.a.createElement("div",null,"No Map Selected, or Errored")}}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.map!==t.currMap?{currMap:e.map}:null}}]),a}(n.Component),g=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).myRef=r.a.createRef(),n.state={name:n.props.name,cdn:n.props.cdn,team:n.props.team,d3_circle_radius:10,id:n.props.team+n.props.name},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.addPlayer()}},{key:"componentWillUnmount",value:function(){u.c("#"+this.state.id).remove()}},{key:"addPlayer",value:function(){var e=this.state.team,t=this.state.cdn,a=this.state.name,n=u.c("#Draggables");n.append("g").attr("id",e+a);var r="#24E8AD";"attack"===e&&(r="#FF5859"),(n=u.c("#"+e+a)).style("cursor","grab"),n.append("circle").attr("cx",50).attr("cy",50).attr("r",this.state.d3_circle_radius).style("fill",r).style("stroke",r).style("stroke-width",5),n.append("polygon").attr("points","40,50 60,50 50,30").style("fill",r),n.append("image").attr("href",t).attr("x",35).attr("y",35).attr("width",30).attr("height",30),this.cursorSetup(n);var s=0,i=0;u.a().subject((function(){return u.c(this),{x:s,y:i}})).on("drag",(function(){var e=u.c(this),t="translate(".concat(u.b.x,", ").concat(u.b.y,")");s=u.b.x,i=u.b.y,e.attr("transform",t)}))(n)}},{key:"cursorSetup",value:function(e){e.on("mousedown",(function(){console.log("down"),u.c(this).style("cursor","grabbing")})),e.on("mousemove",(function(){u.c(this).style("cursor","grab")}))}},{key:"deleteAgent",value:function(){this.props.onDelete(this.state.name,this.state.team)}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.name," \xa0",r.a.createElement("button",{onClick:this.deleteAgent.bind(this)},"Delete"))}}]),a}(n.Component),f=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).atkRef=r.a.createRef(),n.defRef=r.a.createRef(),n.state={isBuyChecked:!0,resetCallable:null,mapCallable:null,maps:[{name:"Select a Map",file:""},{name:"Bind",file:"bind-map.svg"},{name:"Haven",file:"haven-map.svg"},{name:"Split",file:"split-map.svg"}],mapRef:r.a.createRef(),currentTeam:"attack",currentMap:"",players:{attack:[],defense:[]},agents:[{name:"Breach",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/breach/breach-cutout2-compressed.png",color:"#9E644B",refs:r.a.createRef()},{name:"Brimstone",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/brimstone/brimstone-cutout-compressed.png",color:"#468EB7",refs:r.a.createRef()},{name:"Cypher",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/cypher/cypher-cutout-compressed.png",color:"#A9AD96",refs:r.a.createRef()},{name:"Jett",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/jett/jett-cutout3-compressed.png",color:"#55D1E0",refs:r.a.createRef()},{name:"Omen",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/omen/omen-cutout-compressed.png",color:"#543EFF",refs:r.a.createRef()},{name:"Pheonix",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/phoenix/phoenix-cutout-compressed.png",color:"#F0753A",refs:r.a.createRef()},{name:"Raze",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/raze/raze-cutout-compressed.png",color:"#F6AD40",refs:r.a.createRef()},{name:"Sage",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/sage/sage-cutout-compressed.png",color:"#21CEAF",refs:r.a.createRef()},{name:"Sova",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/sova/sova-cutout-compressed.png",color:"#325FFF",refs:r.a.createRef()},{name:"Viper",cdn:"https://blitz-cdn.blitz.gg/blitz/val/agents/viper/viper-cutout-compressed.png",color:"#2AC849",refs:r.a.createRef()}]},n}return Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState({isBuyChecked:e.target.checked})}},{key:"handlePanReset",value:function(e){this.resetPan(e)}},{key:"handleAgent",value:function(e){var t,a=this.state.currentTeam,n=this.state.agents[e],r=this.state.players,s=!1,i=(t=n.name,console.log("Trying to add "+t),r[a].forEach((function(e){e.name===t&&(s=!0)})),s);if(r[a].length<5&&!i){var c={cdn:n.cdn,name:n.name};r[a].push(c),this.setState({players:r})}else console.log("Team full or Agent already on map")}},{key:"handleHoverOn",value:function(e){e.current.width=84,e.current.height=56}},{key:"handleHoverOff",value:function(e){e.current.width=80,e.current.height=52}},{key:"renderAgents",value:function(){var e=this;return this.state.agents.map((function(t,a){return r.a.createElement("div",{key:a,className:"agent-button",style:{background:t.color},onClick:e.handleAgent.bind(e,a)},r.a.createElement("img",{ref:t.refs,width:80,height:52,className:"agent-img",id:"btn"+t.name,src:t.cdn,onPointerEnter:e.handleHoverOn.bind(e,t.refs),onPointerLeave:e.handleHoverOff.bind(e,t.refs),alt:t.name}),r.a.createElement("br",null),r.a.createElement("label",{className:"",to:"btn"+t.name},t.name))}))}},{key:"renderAttackFieldAgents",value:function(){var e=this;return this.state.players.attack.length>0?this.state.players.attack.map((function(t,a){return r.a.createElement(g,{name:t.name,cdn:t.cdn,team:"attack",key:t.name,onDelete:e.removeFieldAgent.bind(e)})})):r.a.createElement("h4",null,"No Attackers on Field")}},{key:"renderDefenseFieldAgents",value:function(){var e=this;return this.state.players.defense.length>0?this.state.players.defense.map((function(t,a){return r.a.createElement(g,{name:t.name,cdn:t.cdn,team:"defense",key:t.name,onDelete:e.removeFieldAgent.bind(e)})})):r.a.createElement("h4",null,"No Defenders on Field")}},{key:"setAttack",value:function(e){this.setState({currentTeam:"attack"})}},{key:"setDefense",value:function(e){this.setState({currentTeam:"defense"})}},{key:"renderMapSelection",value:function(){return this.state.maps.map((function(e,t){return 0===t?r.a.createElement("option",{hidden:!0,disabled:!0,selected:!0,key:t,value:e.file},e.name):r.a.createElement("option",{key:t,value:e.file},e.name)}))}},{key:"onMapChange",value:function(e){var t=e.target.value.split("-")[0],a=t.substr(0,1).toUpperCase()+t.substr(1,t.length);this.setState({players:{attack:[],defense:[]}}),this.setState({currentMap:a})}},{key:"removeFieldAgent",value:function(e,t){var a=this.state.players;console.log("Trying to remove "+e+" from "+t);var n=this.state.players[t].filter((function(t){return t.name!==e}));a[t]=n,this.setState({players:a})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"}),r.a.createElement("div",{className:"splitter"},r.a.createElement("div",{id:"config"},r.a.createElement("select",{onChange:this.onMapChange.bind(this)},this.renderMapSelection()),r.a.createElement("label",{to:"barrier"},"Barrier ON/OFF"),r.a.createElement("input",{id:"barrier",type:"checkbox",onChange:this.handleChange.bind(this),checked:this.state.isBuyChecked}),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.handlePanReset.bind(this)},"Reset"),r.a.createElement("br",null),r.a.createElement(v,{mapRef:this.state.mapRef,width:"908",height:"908",isBuyPeriod:this.state.isBuyChecked,map:this.state.currentMap}),r.a.createElement("button",{ref:this.atkRef,onClick:this.setAttack.bind(this)},"Attackers"),r.a.createElement("button",{ref:this.defRef,onClick:this.setDefense.bind(this)},"Defenders"),r.a.createElement("div",{className:"agents"},this.renderAgents()),r.a.createElement("div",null,r.a.createElement("h3",null,"Attack"),this.renderAttackFieldAgents()),r.a.createElement("div",null,r.a.createElement("h3",null,"Defense"),this.renderDefenseFieldAgents())),r.a.createElement("div",{id:"map-canvas",ref:this.state.mapRef,className:"svg-container splitter"})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.22c29399.chunk.js.map