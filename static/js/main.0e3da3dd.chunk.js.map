{"version":3,"sources":["logo.svg","Components/Map.jsx","Components/Agent.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","Map","props","myRef","React","createRef","state","isBuyPeriod","currMap","width","height","drawing_data","lines","active_color","this","setResetCallable","resetPan","setMapCallable","updateMap","setState","svg","d3","documentElement","drawMap","map","layer1","layer2","style","event","zoom","on","attr","transform","transition","duration","call","ui","swatches","append","selectAll","data","myState","html","current","redraw","enter","d","i","SWATCH_D","each","classed","specific_line","color","elem","render_line","points","exit","remove","line","x","y","interpolate","mapcur","file","then","console","log","node","name","join","drawCharacterLayer","drawDrawingBoardLayer","bind","scaleExtent","mapfile","mapname","ref","svgRef","mapFile","mapName","id","className","Component","Agent","cdn","team","d3_circle_radius","addPlayer","layer","teamcolor","cursorSetup","translateX","translateY","subject","me","handleDrag","onDelete","onClick","deleteAgent","App","atkRef","defRef","isBuyChecked","resetCallable","mapCallable","maps","mapRef","currentTeam","currentMap","players","attack","defense","agents","refs","e","target","checked","callable","key","agent","found","isOnField","forEach","curragent","length","push","item","background","handleAgent","src","onPointerEnter","handleHoverOn","onPointerLeave","handleHoverOff","to","removeFieldAgent","backgroundColor","index","value","lowerName","split","substr","toUpperCase","tempTeam","filter","onChange","onMapChange","renderMapSelection","type","handleChange","handlePanReset","setAttack","setDefense","renderAgents","renderFieldAgents","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.0e3da3dd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React, { Component } from \"react\";\r\nimport * as d3 from 'd3';\r\nimport ReactDOM from 'react-dom'\r\nclass Map extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.myRef = React.createRef();\r\n        this.state = {\r\n            isBuyPeriod: this.props.isBuyPeriod,\r\n            currMap:'Bind',\r\n            width:this.props.width,\r\n            height:this.props.height,\r\n            drawing_data: { lines:[]},\r\n            active_color:''\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.props.setResetCallable({\r\n            resetPan: this.resetPan\r\n         });\r\n         this.props.setMapCallable({\r\n             updateMap: this.updateMap\r\n         })\r\n         this.setState({svg: d3.select(this.myRef.documentElement)})\r\n        this.drawMap(this.props.map);\r\n    }\r\n    componentDidUpdate(){\r\n        let layer1 = d3.select(\"#attack-barrier\")\r\n        let layer2 = d3.select(\"#defense-barrier\")\r\n        \r\n        if (this.props.isBuyPeriod){\r\n            layer1.style('display', null);\r\n            layer2.style('display', null);\r\n        }\r\n        else{\r\n            layer1.style('display', 'none');\r\n            layer2.style('display', 'none');\r\n        }\r\n        \r\n    }\r\n    resetPan(event){\r\n        let map = d3.select(\"#Bind\")\r\n        function zoomed() {\r\n            map.attr(\"transform\", d3.event.transform)\r\n        }\r\n        var zoom = d3.zoom().on(\"zoom\", zoomed);\r\n        map.transition()\r\n        .duration(750)\r\n        .call(zoom.transform, d3.zoomIdentity);\r\n    }\r\n    drawColorPallete(){\r\n        \r\n        let ui = d3.select('#ui')\r\n        let SWATCH_D = 22\r\n        let palette = ui.append('g').attr('transform', \"translate(#{4+SWATCH_D/2},#{4+SWATCH_D/2})\")\r\n        let swatches = palette.selectAll('swatch')\r\n        .data([\"#333333\",\"#ffffff\",\"#1b9e77\",\"#d95f02\",\"#7570b3\",\"#e7298a\",\"#66a61e\",\"#e6ab02\",\"#a6761d\",\"#666666\"]);\r\n        var myState =  this.myRef;\r\n        // console.log(myState)\r\n        let trash_btn = ui.append('text').html('&#xf1f8;')\r\n        .attr('class', 'btn')\r\n        .attr('dy', '0.35em')\r\n        // .attr('cx', 110)\r\n        // .attr('cy', 50)\r\n        .attr('transform', 'translate(800,50)')\r\n        .on('click', () =>{\r\n            let drawing_data= {lines:[]};\r\n            myState.current.setState({drawing_data:drawing_data});\r\n            this.redraw()\r\n        });\r\n        myState =  this.myRef;\r\n        swatches.enter().append('circle')\r\n        .attr('class', 'swatch')\r\n        .attr('cx', (d,i) => (i*(22+4)/2)+50)\r\n        .attr('cy', (d,i) => (i%2)==0 ? SWATCH_D+50:50)\r\n        .attr('r', SWATCH_D/2)\r\n        // .attr('fill', palClick);\r\n\r\n        swatches.each ((d) =>{\r\n            if (d === this.state.active_color){\r\n                d3.select(this).classed('active', true);\r\n            }\r\n        });\r\n\r\n    }\r\n    redraw(specific_line){\r\n        let lines_layer = d3.select('#canvas')\r\n        let lines = lines_layer.selectAll('.line')\r\n            .data(this.state.drawing_data.lines)\r\n            \r\n        lines.enter().append('path')\r\n            .attr\r\n            .attr('class', 'line')\r\n            .attr('stroke', (d) => d.color)\r\n            .each( (d) => d.elem = d3.select(this))\r\n            \r\n        if (specific_line)\r\n            specific_line.elem\r\n            .attr('d', (d) => this.render_line(d.points))\r\n        else\r\n            lines\r\n            .attr('d', (d) => this.render_line(d.points))\r\n                \r\n        lines.exit().remove()\r\n    }\r\n    render_line(){\r\n        d3.svg.line()\r\n        .x((d) =>  d[0])\r\n        .y((d) =>  d[1])\r\n        .interpolate('basis')\r\n    }\r\n    drawMap(mapcur){\r\n        d3.xml(\"./\"+mapcur.file).then(\r\n            (map) => {\r\n                console.log(this.state)\r\n                let me = d3.select(this.myRef.current);\r\n                me.node().append(map.documentElement)\r\n                d3.select(\"#\"+mapcur.name).attr(\"class\",\"svg-content-responsive\").attr(\"viewBox\",[\"0\",\"0\",this.state.width, this.state.height].join(' '))\r\n                this.drawCharacterLayer(\"#\"+mapcur.name)\r\n                this.drawDrawingBoardLayer();\r\n                // this.drawColorPallete();\r\n                this.setState({currMap: mapcur.name})\r\n                var bind = d3.select(\"#\"+mapcur.name).call(d3.zoom().scaleExtent([0.55,5]).on(\"zoom\", function () {\r\n                    bind.attr(\"transform\", d3.event.transform)\r\n            }))\r\n            }\r\n        )\r\n    }\r\n    updateMap(mapfile, mapname, ref){\r\n        var svgRef = ref.current.svg;\r\n        var myState = ref.current\r\n        var mapFile = mapfile;\r\n        var mapName = mapname;\r\n        d3.xml(\"./\"+mapFile).then(\r\n            (map) => {\r\n                d3.select(\"#\"+myState.state.currMap).remove();\r\n                svgRef.node().append(map.documentElement);\r\n                d3.select(\"#\"+mapName).attr(\"class\",\"svg-content-responsive\").attr(\"viewBox\",[\"0\",\"0\",myState.state.width, myState.state.height].join(' '))\r\n                myState.drawCharacterLayer(\"#\"+mapName);\r\n                myState.drawDrawingBoardLayer();\r\n                myState.setState({currMap: mapName})\r\n                var bind = d3.select(\"#\"+mapName).call(d3.zoom().scaleExtent([0.55,5]).on(\"zoom\", function () {\r\n                    bind.attr(\"transform\", d3.event.transform)\r\n\r\n            }))\r\n            }\r\n        )\r\n    }\r\n    drawCharacterLayer(id){\r\n        d3.select(id).append(\"g\")\r\n        .attr(\"id\", \"Draggables\")\r\n    }\r\n    drawDrawingBoardLayer(){\r\n        d3.select('svg').append('g').attr('id','ui');\r\n        d3.select('svg').append('g').attr('id','canvas');\r\n    }\r\n    render(){\r\n        return <div className=\"svg-container splitter\" ref={this.myRef}></div>\r\n    }\r\n}\r\nexport default Map","import React, { Component } from \"react\";\r\nimport * as d3 from 'd3';\r\nimport ReactDOM from 'react-dom'\r\nclass Agent extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.myRef = React.createRef();\r\n        this.state = {\r\n            name: this.props.name,\r\n            cdn: this.props.cdn,\r\n            team: this.props.team,\r\n            d3_circle_radius: 10,\r\n            id:this.props.team+this.props.name,\r\n\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        var team = this.state.team;\r\n        var cdn = this.state.cdn;\r\n        var name = this.state.name;\r\n        this.addPlayer();\r\n    }\r\n    addPlayer(){\r\n        var team = this.state.team;\r\n        var cdn = this.state.cdn;\r\n        var name = this.state.name;\r\n        var layer = d3.select(\"#Draggables\")\r\n\r\n        layer.append('g')\r\n        .attr(\"id\", team+name)\r\n\r\n        layer = d3.select('#'+team+name)\r\n        \r\n        let teamcolor ='#24E8AD'\r\n        if (team==='attack')\r\n            teamcolor = '#FF5859'\r\n        layer.style('cursor','grab')\r\n        layer.append(\"circle\")\r\n            .attr('cx', 50)\r\n            .attr('cy', 50)\r\n            .attr('r', this.state.d3_circle_radius)\r\n            .style(\"fill\", teamcolor)\r\n            .style(\"stroke\", teamcolor)\r\n            .style('stroke-width', 5)\r\n        layer.append('polygon')\r\n            .attr('points',\"40,50 60,50 50,30\")\r\n            .style(\"fill\", teamcolor)\r\n        layer.append(\"image\")\r\n            .attr(\"href\", cdn)\r\n            .attr('x', 35)\r\n            .attr('y', 35)\r\n            .attr('width',30)\r\n            .attr('height', 30)\r\n\r\n        this.cursorSetup(layer)\r\n        //make draggable\r\n        let translateX = 0\r\n        let translateY = 0\r\n\r\n        const handleDrag = d3.drag()\r\n        .subject(\r\n            function() {\r\n                const me = d3.select(this);\r\n                return { x: translateX, y: translateY }\r\n            }\r\n        ).on('drag', \r\n            function() {\r\n                const me = d3.select(this);\r\n                const transform = `translate(${d3.event.x}, ${d3.event.y})`;\r\n                translateX = d3.event.x;\r\n                translateY = d3.event.y;\r\n                me.attr('transform', transform);\r\n            }\r\n        );\r\n        handleDrag(layer);\r\n    }\r\n    cursorSetup(layer){\r\n        layer.on('mousedown', function(){\r\n            console.log('down')\r\n            const me =d3.select(this);\r\n            me.style('cursor', 'grabbing')\r\n        })\r\n        layer.on('mousemove', function(){\r\n\r\n            const me =d3.select(this);\r\n            me.style('cursor', 'grab')\r\n        })\r\n    }\r\n    deleteAgent(){\r\n        var agent = d3.select('#'+this.state.id).remove();\r\n        this.props.onDelete(this.state.name, this.state.team)\r\n    }\r\n    render(){\r\n        return <div>\r\n                {this.state.name} &nbsp;\r\n                <button onClick={this.deleteAgent.bind(this)}>Delete</button>  \r\n            </div>;\r\n    }\r\n}\r\nexport default Agent;","import React, { Component } from \"react\";\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\nimport Map from \"./Components/Map\";\r\nimport Agent from \"./Components/Agent\";\r\nclass App extends Component{\r\n  constructor(props){\r\n      super(props);\r\n      this.atkRef = React.createRef()\r\n      this.defRef = React.createRef()\r\n      this.state = {\r\n        isBuyChecked: true,\r\n        resetCallable: null,\r\n        mapCallable: null,\r\n        maps: [{name:'Bind',file:'bind-map.svg'},{name:'Haven', file:'haven-map.svg'},{name:'Split', file:'split-map.svg'}],\r\n        mapRef: React.createRef(),\r\n        currentTeam: 'attack',\r\n        currentMap:{name:'Bind',file:'bind-map.svg'},\r\n        players: {attack:[],defense:[]},\r\n        agents: [{name:'Breach',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/breach/breach-cutout2-compressed.png', color: '#9E644B',refs: React.createRef()}\r\n                ,{name:'Brimstone',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/brimstone/brimstone-cutout-compressed.png', color: '#468EB7',refs: React.createRef()}\r\n                ,{name:'Cypher',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/cypher/cypher-cutout-compressed.png',color:'#A9AD96',refs: React.createRef()}\r\n                ,{name:'Jett',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/jett/jett-cutout3-compressed.png',color:'#55D1E0',refs: React.createRef()}\r\n                ,{name:'Omen',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/omen/omen-cutout-compressed.png',color:'#543EFF',refs: React.createRef()}\r\n                ,{name:'Pheonix',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/phoenix/phoenix-cutout-compressed.png',color:'#F0753A',refs: React.createRef()}\r\n                ,{name:'Raze',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/raze/raze-cutout-compressed.png',color:'#F6AD40',refs: React.createRef()}\r\n                ,{name:'Sage',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/sage/sage-cutout-compressed.png',color:'#21CEAF',refs: React.createRef()}\r\n                ,{name:'Sova',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/sova/sova-cutout-compressed.png',color:'#325FFF',refs: React.createRef()}\r\n                ,{name:'Viper',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/viper/viper-cutout-compressed.png',color:'#2AC849',refs: React.createRef()}],\r\n      }\r\n  }\r\n  handleChange(e){\r\n    this.setState({isBuyChecked: e.target.checked})\r\n  };\r\n  setMapCallable(callable){\r\n    this.setState({mapCallable:callable});\r\n  }\r\n  setResetCallable(callable){\r\n    this.setState({resetCallable:callable})\r\n  }\r\n  handlePanReset(event){\r\n    this.state.resetCallable.resetPan(event);\r\n  }\r\n  handleAgent(key){\r\n    let team = this.state.currentTeam\r\n    let agent =this.state.agents[key]\r\n    let players = this.state.players\r\n    let found = false;\r\n    let isAgentOnField = (name) => {\r\n      console.log('Trying to add '+name)\r\n      players[team].forEach(curragent => {\r\n        if (curragent.name === name){\r\n          found=true;\r\n        }\r\n      });\r\n      return found;\r\n    }\r\n    var isOnField = isAgentOnField(agent.name);\r\n    if (players[team].length<5 && !isOnField){\r\n        let curragent = {cdn:agent.cdn, name:agent.name};\r\n        players[team].push(curragent)\r\n        this.setState({players:players})\r\n    }else{\r\n      console.log('Team full or Agent already on map')\r\n    }\r\n    \r\n  }\r\n  handleHoverOn(ref){\r\n    ref.current.width =84\r\n    ref.current.height=56\r\n  }\r\n  handleHoverOff(ref){\r\n    ref.current.width =80\r\n    ref.current.height=52\r\n  }\r\n  renderAgents(){\r\n    return this.state.agents.map((item,key)=>\r\n      <div key={key} className=\"agent-button\" style={{background:item.color}} onClick={this.handleAgent.bind(this, key)}>\r\n        <img ref={item.refs} width={80} height={52} className=\"agent-img\" id={\"btn\"+ item.name} src={item.cdn} onPointerEnter={this.handleHoverOn.bind(this,item.refs)} onPointerLeave={this.handleHoverOff.bind(this,item.refs)}/><br/>\r\n        <label className=\"\" to={\"btn\"+item.name}>{item.name}</label>\r\n      </div>\r\n    )\r\n  }\r\n  renderFieldAgents(){\r\n    if (this.state.currentTeam == 'attack'){\r\n      return this.state.players.attack.map((item,key)=> \r\n        <Agent name={item.name} cdn={item.cdn} team='attack' key={item.name} onDelete={this.removeFieldAgent.bind(this)}/>\r\n      );\r\n    }else{\r\n      return this.state.players.defense.map((item,key)=> \r\n        <Agent name={item.name} cdn={item.cdn} team='defense' key={item.name} onDelete={this.removeFieldAgent.bind(this)}/>\r\n      );\r\n    }\r\n  }\r\n  setAttack(event){\r\n    this.setState({currentTeam:'attack'})\r\n    this.atkRef.current.style={backgroundColor:'#FF5859'}\r\n    this.defRef.current.style={backgroundColor:null}\r\n  }\r\n  setDefense(event){\r\n    this.setState({currentTeam:'defense'})\r\n    this.defRef.current.style={background:'#24E8AD'}\r\n    this.atkRef.current.style={background:null}\r\n  }\r\n  renderMapSelection(){\r\n  return this.state.maps.map( (item, index) => <option key={index} value={item.file}>{item.name}</option>)\r\n  }\r\n  onMapChange(event){\r\n    var mapFile = event.target.value;\r\n    var lowerName = event.target.value.split(\"-\")[0]\r\n    var mapName = (lowerName.substr(0,1)).toUpperCase() + lowerName.substr(1,lowerName.length)\r\n    this.setState({players: {attack:[],defense:[]}})\r\n    this.state.mapCallable.updateMap(mapFile, mapName, this.state.mapRef)\r\n  }\r\n  removeFieldAgent(name, team){\r\n    let players = this.state.players\r\n    let i=0;\r\n    console.log('Trying to remove '+name+' '+ 'from '+ team)\r\n    const tempTeam = this.state.players[team].filter( item => item.name !== name);\r\n    players[team]=tempTeam;\r\n    this.setState({players:players})\r\n  }\r\n  render(){\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header\">\r\n        </header>\r\n        <div className=\"splitter\">\r\n          <div id=\"config\">\r\n            <select onChange={this.onMapChange.bind(this)}>\r\n              {this.renderMapSelection()}\r\n            </select>\r\n            <label to=\"barrier\">Barrier ON/OFF</label>\r\n            <input id=\"barrier\" type=\"checkbox\" onChange={this.handleChange.bind(this)} checked={this.state.isBuyChecked}/>\r\n            <br/>\r\n            <button onClick={this.handlePanReset.bind(this)}>Reset</button><br/>\r\n            <button ref={this.atkRef} onClick={this.setAttack.bind(this)}>Attackers</button>\r\n            <button ref={this.defRef} onClick={this.setDefense.bind(this)}>Defenders</button>\r\n            <div className=\"agents\">\r\n              {this.renderAgents()}\r\n            </div>\r\n            <div>\r\n              {this.renderFieldAgents()}\r\n            </div>\r\n          </div>\r\n          <Map ref={this.state.mapRef} width={\"908\"} height={\"908\"} isBuyPeriod={this.state.isBuyChecked} setResetCallable={this.setResetCallable.bind(this)} setMapCallable={this.setMapCallable.bind(this)} map={this.state.currentMap}/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}