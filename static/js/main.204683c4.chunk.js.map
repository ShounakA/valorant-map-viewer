{"version":3,"sources":["Components/maps/Haven.jsx","Components/maps/Bind.jsx","Components/maps/Split.jsx","Components/Map.jsx","Components/Agent.jsx","App.js","serviceWorker.js","index.js"],"names":["Haven","props","state","name","svg","svg_id","width","height","map_canvas_id","this","drawMap","d3","remove","mapname","mapfile","id","then","map","me","console","log","node","append","documentElement","attr","join","drawCharacterLayer","bind","call","scaleExtent","on","transform","Component","Bind","myRef","React","createRef","Split","Map","isBuyPeriod","currMap","mapRef","Agent","cdn","team","d3_circle_radius","addPlayer","layer","teamcolor","style","cursorSetup","translateX","translateY","subject","x","y","handleDrag","onDelete","onClick","deleteAgent","App","atkRef","defRef","isBuyChecked","resetCallable","mapCallable","maps","file","currentTeam","currentMap","players","attack","defense","agents","color","refs","e","setState","target","checked","event","resetPan","key","agent","found","isOnField","forEach","curragent","length","push","ref","current","item","className","background","handleAgent","src","onPointerEnter","handleHoverOn","onPointerLeave","handleHoverOff","alt","to","removeFieldAgent","index","hidden","disabled","selected","value","lowerName","split","mapName","substr","toUpperCase","tempTeam","filter","onChange","onMapChange","renderMapSelection","type","handleChange","handlePanReset","setAttack","setDefense","renderAgents","renderAttackFieldAgents","renderDefenseFieldAgents","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.204683c4.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport * as d3 from 'd3';\r\nclass Haven extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            // isBuyPeriod: this.props.isBuyPeriod,\r\n            name:'Haven',\r\n            svg: 'haven-map.svg',\r\n            svg_id: 'Haven',\r\n            width:this.props.width,\r\n            height:this.props.height,\r\n            map_canvas_id:'map-canvas'\r\n\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.drawMap(this.state.name, this.state.svg);\r\n    }\r\n    componentDidUpdate(){\r\n        // let layer1 = d3.select(\"#attack-barrier\")\r\n        // let layer2 = d3.select(\"#defense-barrier\")\r\n        \r\n        // if (this.props.isBuyPeriod){\r\n        //     layer1.style('display', null);\r\n        //     layer2.style('display', null);\r\n        // }\r\n        // else{\r\n        //     layer1.style('display', 'none');\r\n        //     layer2.style('display', 'none');\r\n        // }\r\n        \r\n    }\r\n    componentWillUnmount(){\r\n       d3.select('#'+this.state.svg_id).remove();\r\n    }\r\n    drawMap(mapname, mapfile){\r\n        let id = this.state.map_canvas_id;\r\n        d3.xml(\"./\"+mapfile).then(\r\n            (map) => {\r\n                let me = d3.select(\"#\"+id);\r\n                console.log(me)\r\n                me.node().append(map.documentElement)\r\n                d3.select(\"#\"+mapname).attr(\"class\",\"svg-content-responsive\").attr(\"id\",this.state.svg_id).attr(\"viewBox\",[\"0\",\"0\",this.state.width, this.state.height].join(' '))\r\n                this.drawCharacterLayer(\"#\"+mapname)\r\n                var bind = d3.select(\"#\"+mapname).call(d3.zoom().scaleExtent([0.55,5]).on(\"zoom\", function () {\r\n                    bind.attr(\"transform\", d3.event.transform)\r\n            }))\r\n            }\r\n        )\r\n    }\r\n    drawCharacterLayer(id){\r\n        d3.select(id).append(\"g\")\r\n        .attr(\"id\", \"Draggables\")\r\n    }\r\n    render(){\r\n        return <div>Haven</div>;\r\n    }\r\n}\r\nexport default Haven","import React, { Component } from \"react\";\r\nimport * as d3 from 'd3';\r\n\r\nclass Bind extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.myRef = React.createRef();\r\n        this.state = {\r\n            // isBuyPeriod: this.props.isBuyPeriod,\r\n            name:'Bind',\r\n            svg: 'bind-map.svg',\r\n            svg_id: 'Bind',\r\n            width:this.props.width,\r\n            height:this.props.height,\r\n            map_canvas_id:'map-canvas'\r\n\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.drawMap(this.state.name, this.state.svg);\r\n    }\r\n    componentDidUpdate(){\r\n        // let layer1 = d3.select(\"#attack-barrier\")\r\n        // let layer2 = d3.select(\"#defense-barrier\")\r\n        \r\n        // if (this.props.isBuyPeriod){\r\n        //     layer1.style('display', null);\r\n        //     layer2.style('display', null);\r\n        // }\r\n        // else{\r\n        //     layer1.style('display', 'none');\r\n        //     layer2.style('display', 'none');\r\n        // }\r\n        \r\n    }\r\n    componentWillUnmount(){\r\n        d3.select('#'+this.state.svg_id).remove();\r\n    }\r\n    drawMap(mapname, mapfile){\r\n        let id = this.state.map_canvas_id;\r\n        d3.xml(\"./\"+mapfile).then(\r\n            (map) => {\r\n                let me = d3.select(\"#\"+id);\r\n                console.log(me)\r\n                me.node().append(map.documentElement)\r\n                d3.select(\"#\"+mapname).attr(\"class\",\"svg-content-responsive\").attr(\"id\",this.state.svg_id).attr(\"viewBox\",[\"0\",\"0\",this.state.width, this.state.height].join(' '))\r\n                this.drawCharacterLayer(\"#\"+mapname)\r\n                var bind = d3.select(\"#\"+mapname).call(d3.zoom().scaleExtent([0.55,5]).on(\"zoom\", function () {\r\n                    bind.attr(\"transform\", d3.event.transform)\r\n            }))\r\n            }\r\n        )\r\n    }\r\n    drawCharacterLayer(id){\r\n        d3.select(id).append(\"g\")\r\n        .attr(\"id\", \"Draggables\")\r\n    }\r\n    render(){\r\n        return <div>Bind</div>;\r\n    }\r\n}\r\nexport default Bind","import React, { Component } from \"react\";\r\nimport * as d3 from 'd3';\r\n\r\nclass Split extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.myRef = React.createRef();\r\n        this.state = {\r\n            // isBuyPeriod: this.props.isBuyPeriod,\r\n            name:'Split',\r\n            svg: 'split-map.svg',\r\n            svg_id: 'Split',\r\n            width:this.props.width,\r\n            height:this.props.height,\r\n            map_canvas_id:'map-canvas'\r\n\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.drawMap(this.state.name, this.state.svg);\r\n    }\r\n    componentDidUpdate(){\r\n        // let layer1 = d3.select(\"#attack-barrier\")\r\n        // let layer2 = d3.select(\"#defense-barrier\")\r\n        \r\n        // if (this.props.isBuyPeriod){\r\n        //     layer1.style('display', null);\r\n        //     layer2.style('display', null);\r\n        // }\r\n        // else{\r\n        //     layer1.style('display', 'none');\r\n        //     layer2.style('display', 'none');\r\n        // }\r\n        \r\n    }\r\n    componentWillUnmount(){\r\n        d3.select('#'+this.state.svg_id).remove();\r\n    }\r\n    drawMap(mapname, mapfile){\r\n        let id = this.state.map_canvas_id;\r\n        d3.xml(\"./\"+mapfile).then(\r\n            (map) => {\r\n                let me = d3.select(\"#\"+id);\r\n                console.log(me)\r\n                me.node().append(map.documentElement)\r\n                d3.select(\"#\"+mapname).attr(\"class\",\"svg-content-responsive\").attr(\"id\",this.state.svg_id).attr(\"viewBox\",[\"0\",\"0\",this.state.width, this.state.height].join(' '))\r\n                this.drawCharacterLayer(\"#\"+mapname)\r\n                var bind = d3.select(\"#\"+mapname).call(d3.zoom().scaleExtent([0.55,5]).on(\"zoom\", function () {\r\n                    bind.attr(\"transform\", d3.event.transform)\r\n            }))\r\n            }\r\n        )\r\n    }\r\n    drawCharacterLayer(id){\r\n        d3.select(id).append(\"g\")\r\n        .attr(\"id\", \"Draggables\")\r\n    }\r\n    render(){\r\n        return <div>Split</div>;\r\n    }\r\n}\r\nexport default Split","import React, { Component } from \"react\";\r\nimport * as d3 from 'd3';\r\nimport Haven from './maps/Haven';\r\nimport Bind from './maps/Bind';\r\nimport Split from './maps/Split';\r\n// Factory for the Map current map displayed. When created based on map id will display the coresponding map.\r\nclass Map extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            isBuyPeriod: this.props.isBuyPeriod,\r\n            currMap:this.props.map,\r\n            width:this.props.width,\r\n            height:this.props.height,\r\n            mapRef:this.props.mapRef\r\n        }\r\n    }\r\n    static getDerivedStateFromProps(props, state){\r\n        if (props.map !== state.currMap){\r\n            return {currMap:props.map}\r\n        }\r\n        return null;\r\n    }\r\n    drawDrawingBoardLayer(){\r\n        d3.select('svg').append('g').attr('id','ui');\r\n        d3.select('svg').append('g').attr('id','canvas');\r\n    }\r\n    render(){\r\n        switch (this.state.currMap) {\r\n            case 'Bind':\r\n                return <Bind height={this.state.height} width={this.state.width}></Bind>\r\n            case 'Haven':\r\n                return <Haven height={this.state.height} width={this.state.width}></Haven>\r\n            case 'Split':\r\n                return <Split height={this.state.height} width={this.state.width}></Split>\r\n            default:\r\n                return <div>No Map Selected, or Errored</div>;\r\n        }\r\n    }\r\n}\r\nexport default Map","import React, { Component } from \"react\";\r\nimport * as d3 from 'd3';\r\nclass Agent extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.myRef = React.createRef();\r\n        this.state = {\r\n            name: this.props.name,\r\n            cdn: this.props.cdn,\r\n            team: this.props.team,\r\n            d3_circle_radius: 10,\r\n            id:this.props.team+this.props.name,\r\n\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.addPlayer();\r\n    }\r\n    componentWillUnmount(){\r\n        d3.select('#'+this.state.id).remove();\r\n    }\r\n    addPlayer(){\r\n        var team = this.state.team;\r\n        var cdn = this.state.cdn;\r\n        var name = this.state.name;\r\n        var layer = d3.select(\"#Draggables\")\r\n\r\n        layer.append('g')\r\n        .attr(\"id\", team+name)\r\n\r\n        layer = d3.select('#'+team+name)\r\n        \r\n        let teamcolor ='#24E8AD'\r\n        if (team==='attack')\r\n            teamcolor = '#FF5859'\r\n        layer.style('cursor','grab')\r\n        layer.append(\"circle\")\r\n            .attr('cx', 50)\r\n            .attr('cy', 50)\r\n            .attr('r', this.state.d3_circle_radius)\r\n            .style(\"fill\", teamcolor)\r\n            .style(\"stroke\", teamcolor)\r\n            .style('stroke-width', 5)\r\n        layer.append('polygon')\r\n            .attr('points',\"40,50 60,50 50,30\")\r\n            .style(\"fill\", teamcolor)\r\n        layer.append(\"image\")\r\n            .attr(\"href\", cdn)\r\n            .attr('x', 35)\r\n            .attr('y', 35)\r\n            .attr('width',30)\r\n            .attr('height', 30)\r\n\r\n        this.cursorSetup(layer)\r\n        //make draggable\r\n        let translateX = 0\r\n        let translateY = 0\r\n\r\n        const handleDrag = d3.drag()\r\n        .subject(\r\n            function() {\r\n                d3.select(this);\r\n                return { x: translateX, y: translateY }\r\n            }\r\n        ).on('drag', \r\n            function() {\r\n                const me = d3.select(this);\r\n                const transform = `translate(${d3.event.x}, ${d3.event.y})`;\r\n                translateX = d3.event.x;\r\n                translateY = d3.event.y;\r\n                me.attr('transform', transform);\r\n            }\r\n        );\r\n        handleDrag(layer);\r\n    }\r\n    cursorSetup(layer){\r\n        layer.on('mousedown', function(){\r\n            console.log('down')\r\n            const me =d3.select(this);\r\n            me.style('cursor', 'grabbing')\r\n        })\r\n        layer.on('mousemove', function(){\r\n\r\n            const me =d3.select(this);\r\n            me.style('cursor', 'grab')\r\n        })\r\n    }\r\n    deleteAgent(){\r\n        this.props.onDelete(this.state.name, this.state.team)\r\n    }\r\n    render(){\r\n        return <div>\r\n                {this.state.name} &nbsp;\r\n                <button onClick={this.deleteAgent.bind(this)}>Delete</button>  \r\n            </div>;\r\n    }\r\n}\r\nexport default Agent;","import React, { Component } from \"react\";\r\nimport './App.css';\r\nimport Map from \"./Components/Map\";\r\nimport Agent from \"./Components/Agent\";\r\nclass App extends Component{\r\n  constructor(props){\r\n      super(props);\r\n      this.atkRef = React.createRef()\r\n      this.defRef = React.createRef()\r\n      this.state = {\r\n        isBuyChecked: true,\r\n        resetCallable: null,\r\n        mapCallable: null,\r\n        maps: [{name:'Select a Map',file:''},{name:'Bind',file:'bind-map.svg'},{name:'Haven', file:'haven-map.svg'},{name:'Split', file:'split-map.svg'}],\r\n        mapRef: React.createRef(),\r\n        currentTeam: 'attack',\r\n        currentMap:'',\r\n        players: {attack:[],defense:[]},\r\n        agents: [{name:'Breach',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/breach/breach-cutout2-compressed.png', color: '#9E644B',refs: React.createRef()}\r\n                ,{name:'Brimstone',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/brimstone/brimstone-cutout-compressed.png', color: '#468EB7',refs: React.createRef()}\r\n                ,{name:'Cypher',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/cypher/cypher-cutout-compressed.png',color:'#A9AD96',refs: React.createRef()}\r\n                ,{name:'Jett',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/jett/jett-cutout3-compressed.png',color:'#55D1E0',refs: React.createRef()}\r\n                ,{name:'Omen',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/omen/omen-cutout-compressed.png',color:'#543EFF',refs: React.createRef()}\r\n                ,{name:'Pheonix',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/phoenix/phoenix-cutout-compressed.png',color:'#F0753A',refs: React.createRef()}\r\n                ,{name:'Raze',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/raze/raze-cutout-compressed.png',color:'#F6AD40',refs: React.createRef()}\r\n                ,{name:'Sage',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/sage/sage-cutout-compressed.png',color:'#21CEAF',refs: React.createRef()}\r\n                ,{name:'Sova',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/sova/sova-cutout-compressed.png',color:'#325FFF',refs: React.createRef()}\r\n                ,{name:'Viper',cdn:'https://blitz-cdn.blitz.gg/blitz/val/agents/viper/viper-cutout-compressed.png',color:'#2AC849',refs: React.createRef()}],\r\n      }\r\n  }\r\n  handleChange(e){\r\n    this.setState({isBuyChecked: e.target.checked})\r\n  };\r\n  handlePanReset(event){\r\n    this.resetPan(event);\r\n  }\r\n  handleAgent(key){\r\n    let team = this.state.currentTeam\r\n    let agent =this.state.agents[key]\r\n    let players = this.state.players\r\n    let found = false;\r\n    let isAgentOnField = (name) => {\r\n      console.log('Trying to add '+name)\r\n      players[team].forEach(curragent => {\r\n        if (curragent.name === name){\r\n          found=true;\r\n        }\r\n      });\r\n      return found;\r\n    }\r\n    var isOnField = isAgentOnField(agent.name);\r\n    if (players[team].length<5 && !isOnField){\r\n        let curragent = {cdn:agent.cdn, name:agent.name};\r\n        players[team].push(curragent)\r\n        this.setState({players:players})\r\n    }else{\r\n      console.log('Team full or Agent already on map')\r\n    }\r\n    \r\n  }\r\n  handleHoverOn(ref){\r\n    ref.current.width =84\r\n    ref.current.height=56\r\n  }\r\n  handleHoverOff(ref){\r\n    ref.current.width =80\r\n    ref.current.height=52\r\n  }\r\n  renderAgents(){\r\n    return this.state.agents.map((item,key)=>\r\n      <div key={key} className=\"agent-button\" style={{background:item.color}} onClick={this.handleAgent.bind(this, key)}>\r\n        <img ref={item.refs} width={80} height={52} className=\"agent-img\" id={\"btn\"+ item.name} src={item.cdn} onPointerEnter={this.handleHoverOn.bind(this,item.refs)} onPointerLeave={this.handleHoverOff.bind(this,item.refs)} alt={item.name}/><br/>\r\n        <label className=\"\" to={\"btn\"+item.name}>{item.name}</label>\r\n      </div>\r\n    )\r\n  }\r\n  renderAttackFieldAgents(){\r\n    if (this.state.players.attack.length>0){\r\n      return this.state.players.attack.map((item,key)=> \r\n        <Agent name={item.name} cdn={item.cdn} team='attack' key={item.name} onDelete={this.removeFieldAgent.bind(this)}/>\r\n      );\r\n    }else{\r\n      return <h4>No Attackers on Field</h4>\r\n    }\r\n\r\n  }\r\n  renderDefenseFieldAgents(){\r\n      if (this.state.players.defense.length>0){\r\n        return this.state.players.defense.map((item,key)=> \r\n          <Agent name={item.name} cdn={item.cdn} team='defense' key={item.name} onDelete={this.removeFieldAgent.bind(this)}/>\r\n        );\r\n      }\r\n      else{\r\n        return <h4>No Defenders on Field</h4>\r\n      }\r\n  }\r\n  setAttack(event){\r\n    this.setState({currentTeam:'attack'})\r\n  }\r\n  setDefense(event){\r\n    this.setState({currentTeam:'defense'})\r\n  }\r\n  renderMapSelection(){\r\n    return this.state.maps.map( (item, index) => (index===0)? <option hidden disabled selected key={index} value={item.file}>{item.name}</option>:<option key={index} value={item.file}>{item.name}</option> )\r\n  }\r\n  onMapChange(event){\r\n    var lowerName = event.target.value.split(\"-\")[0]\r\n    var mapName = (lowerName.substr(0,1)).toUpperCase() + lowerName.substr(1,lowerName.length)\r\n    this.setState({players: {attack:[],defense:[]}})\r\n    this.setState({currentMap:mapName});\r\n  }\r\n  removeFieldAgent(name, team){\r\n    let players = this.state.players\r\n    console.log('Trying to remove ' + name + ' ' + 'from ' + team)\r\n    const tempTeam = this.state.players[team].filter( item => item.name !== name);\r\n    players[team]=tempTeam;\r\n    this.setState({players:players})\r\n  }\r\n  render(){\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header\">\r\n        </header>\r\n        <div className=\"splitter\">\r\n          <div id=\"config\">\r\n            <select onChange={this.onMapChange.bind(this)}>\r\n              {this.renderMapSelection()}\r\n            </select>\r\n            <label to=\"barrier\">Barrier ON/OFF</label>\r\n            <input id=\"barrier\" type=\"checkbox\" onChange={this.handleChange.bind(this)} checked={this.state.isBuyChecked}/>\r\n            <br/>\r\n            <button onClick={this.handlePanReset.bind(this)}>Reset</button><br/>\r\n            <Map mapRef={this.state.mapRef} width={\"908\"} height={\"908\"} isBuyPeriod={this.state.isBuyChecked} map={this.state.currentMap}/>\r\n            <button ref={this.atkRef} onClick={this.setAttack.bind(this)}>Attackers</button>\r\n            <button ref={this.defRef} onClick={this.setDefense.bind(this)}>Defenders</button>\r\n            <div className=\"agents\">\r\n              {this.renderAgents()}\r\n            </div>\r\n            <div>\r\n              <h3>Attack</h3>\r\n              {this.renderAttackFieldAgents()}\r\n            </div>\r\n            <div>\r\n              <h3>Defense</h3>\r\n              {this.renderDefenseFieldAgents()}\r\n            </div>\r\n          </div >\r\n          <div id=\"map-canvas\" ref={this.state.mapRef} className=\"svg-container splitter\">\r\n            \r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}